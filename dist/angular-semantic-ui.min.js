function wizardButtonDirective(a){angular.module("angularify.semantic.wizard").directive(a,function(){return{restrict:"A",replace:!1,require:"^wizard",link:function(b,c,d,e){b.noMargin={margin:0},c.on("click",function(c){c.preventDefault(),b.$apply(function(){b.$eval(d[a]),e[a.replace("wz","").toLowerCase()]()})})}}})}angular.module("angularify.semantic",["angularify.semantic.accordion","angularify.semantic.checkbox","angularify.semantic.dimmer","angularify.semantic.dropdown","angularify.semantic.modal","angularify.semantic.popup","angularify.semantic.rating","angularify.semantic.sidebar","angularify.semantic.wizard","angularify.semantic.common","angularify.semantic.datetimepicker"]),angular.module("angularify.semantic.accordion",[]).controller("AccordionController",["$scope",function(a){a.accordions=[],this.add_accordion=function(b){a.accordions.push(b);var c=this;return b.$on("$destroy",function(a){c.remove_accordion(b)}),a.accordions},this.closeAll=function(b){var c=0,d=!1,e=a.accordions.indexOf(b);for(c in a.accordions)a.accordions[c].close&&(d=!0);if(1==d){for(c in a.accordions)c!==e&&(a.accordions[c].active=!1);return!0}return!1},this.remove_accordion=function(b){var c=a.accordions.indexOf(b);-1!==c&&a.accordions.splice(c,1)},this.is_close_all=function(){var b=0;for(b in a.accordions)if("true"==a.accordions[b].close)return!0;return!1}}]).directive("accordion",function(){return{restrict:"E",replace:!0,transclude:!0,controller:"AccordionController",scope:{close:"@"},template:'<div class="ui accordion" ng-transclude></div>',link:function(a,b,c,d){d.add_accordion(a)}}}).directive("accordionGroup",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@",open:"@"},require:"^accordion",template:'<div class="ui accordion">                   <div class="title" ng-class="{ active: active }" ng-click="click_on_accordion_tab()">                      <i class="dropdown icon"></i>                      {{ title }}                    </div>                    <div class="content"  ng-class="{ active: active }" ng-transclude>                    </div>                    </div>',link:function(a,b,c,d){a.active="true"===c.open,d.add_accordion(a),a.click_on_accordion_tab=function(){d.closeAll(a),a.active=!a.active}}}}),angular.module("angularify.semantic.checkbox",[]).directive("checkbox",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{type:"@",size:"@",checked:"@",model:"=ngModel"},template:'<div class="{{checkbox_class}}"><input type="checkbox"><label ng-click="click_on_checkbox()" ng-transclude></label></div>',link:function(a,b,c,d){"standard"==a.type||void 0==a.type?(a.type="standard",a.checkbox_class="ui checkbox"):"slider"==a.type?(a.type="slider",a.checkbox_class="ui slider checkbox"):"toggle"==a.type?(a.type="toggle",a.checkbox_class="ui toggle checkbox"):(a.type="standard",a.checkbox_class="ui checkbox"),"large"==a.size?a.checkbox_class=a.checkbox_class+" large":"huge"==a.size&&(a.checkbox_class=a.checkbox_class+" huge"),"false"==a.checked||void 0==a.checked?a.checked=!1:(a.checked=!0,b.children()[0].setAttribute("checked","")),b.bind("click",function(){a.$apply(function(){1==a.checked?(a.checked=!0,a.model=!1,b.children()[0].removeAttribute("checked")):(a.checked=!0,a.model=!0,b.children()[0].setAttribute("checked","true"))})}),a.$watch("model",function(c){void 0!=c&&(1==c?(a.checked=!0,b.children()[0].setAttribute("checked","true")):(a.checked=!1,b.children()[0].removeAttribute("checked")))})}}}),angular.module("angularify.semantic.dimmer",[]).directive("pageDimmer",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{show:"=?",model:"=ngModel"},template:'<div class="{{dimmer_class}}" ng-click="click_on_dimmer()"><div class="content"><div class="center" ng-transclude></div></div></div>',link:function(a,b,c,d){1==a.show?a.dimmer_class="ui page active dimmer":(a.show=!1,a.dimmer_class="ui page disable dimmer"),a.click_on_dimmer=function(){a.model=!1,a.dimmer_class="ui page dimmer"},a.$watch("model",function(b){0!=b&&void 0!=b&&(a.dimmer_class="ui page active dimmer")})}}}),angular.module("angularify.semantic.dropdown",[]).controller("DropDownController",["$scope",function(a){a.items=[],this.add_item=function(b){return a.items.push(b),a.items},this.remove_item=function(b){var c=a.items.indexOf(b);-1!==c&&a.items.splice(c,1)},this.update_title=function(b){for(var c in a.items)a.items[c].title=b}}]).directive("dropdown",function(){return{restrict:"E",replace:!0,transclude:!0,controller:"DropDownController",scope:{title:"@",open:"@",model:"=ngModel"},template:'<div class="{{ dropdown_class }}"><div class="default text">{{ title }}</div><i class="dropdown icon"></i><div class="{{ menu_class }}"  ng-transclude></div></div>',link:function(a,b,c,d){a.dropdown_class="ui selection dropdown",a.menu_class="menu transition hidden",a.original_title=a.title,"true"===a.open?(a.is_open=!0,a.dropdown_class=a.dropdown_class+" active visible",a.menu_class=a.menu_class+" visible"):a.is_open=!1,d.add_item(a),a.$watch("title",function(b,c){void 0!==b&&b!==c&&b!==a.original_title&&(a.model=b)}),a.$watch("model",function(b){a.model=b,d.update_title(b||a.original_title)}),b.bind("click",function(){a.is_open===!1?a.$apply(function(){a.dropdown_class="ui selection dropdown active visible",a.menu_class="menu transition visible"}):(a.title!==a.original_title&&(a.model=a.title),a.$apply(function(){a.dropdown_class="ui selection dropdown",a.menu_class="menu transition hidden"})),a.is_open=!a.is_open})}}}).directive("dropdownGroup",function(){return{restrict:"AE",replace:!0,transclude:!0,require:"^dropdown",scope:{title:"=title"},template:'<div class="item" ng-transclude >{{ item_title }}</div>',link:function(a,b,c,d){void 0===a.title?a.item_title=b.children()[0].innerHTML:a.item_title=a.title,b.bind("click",function(){d.update_title(a.item_title)})}}}),angular.module("angularify.semantic.modal",[]).directive("modal",function(){return{restrict:"E",replace:!0,transclude:!0,require:"ngModel",template:'<div class="ui modal" ng-transclude></div>',link:function(a,b,c,d){b.modal({onHide:function(){d.$setViewValue(!1)}}),a.$watch(function(){return d.$modelValue},function(a){b.modal(a?"show":"hide")})}}}),angular.module("angularify.semantic.popup",[]).directive("popup",function($document){return{restrict:"A",scope:{popup:"@"},link:function(scope,element,attrs){function getPos(a){for(var b=0,c=0;;){if(b+=a.offsetLeft,c+=a.offsetTop,null===a.offsetParent)break;a=a.offsetParent}return[b,c]}var class_name="",popup_meta_data=eval("("+scope.popup+")"),title=popup_meta_data.title;void 0==title&&(title="");var content=popup_meta_data.content;void 0==content&&(content="");var position=popup_meta_data.position;void 0==position&&(position="top");var size=popup_meta_data.size;void 0==size&&(size="small"),class_name="left"==position?"ui popup left center transition visible "+size:"right"==position?"ui popup right center transition visible "+size:"bottom"==position?"ui popup bottom center transition visible "+size:"ui popup top center transition visible "+size;var current_element_position_top_left=getPos(element[0]),current_element_height=element[0].offsetHeight,current_element_width=element[0].offsetWidth;NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var a=0,b=this.length;b>a;a++)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])},element.bind("mouseenter",function(){var a='<div id="my-popup" class="'+class_name+'" style=""><div class="header">'+title+'</div><div class="content">'+content+"</div></div>";angular.element(element[0]).append(a);var b=document.getElementById("my-popup").clientHeight,c=document.getElementById("my-popup").clientWidth;"left"==position?(document.getElementById("my-popup").style.top=current_element_position_top_left[1]+current_element_height/2-b/2+"px",document.getElementById("my-popup").style.right="auto",document.getElementById("my-popup").style.left=current_element_position_top_left[0]-c-10+"px",document.getElementById("my-popup").style.bottom="auto",document.getElementById("my-popup").style.display="inline-block"):"right"==position?(document.getElementById("my-popup").style.top=current_element_position_top_left[1]+current_element_height/2-b/2+"px",document.getElementById("my-popup").style.right="auto",document.getElementById("my-popup").style.left=current_element_position_top_left[0]+current_element_width+"px",document.getElementById("my-popup").style.bottom="auto",document.getElementById("my-popup").style.display="inline-block"):"bottom"==position?(document.getElementById("my-popup").style.top=current_element_position_top_left[1]+current_element_height+"px",document.getElementById("my-popup").style.left=current_element_position_top_left[0]+current_element_width/2-c/2+15+"px",document.getElementById("my-popup").style.right="auto",document.getElementById("my-popup").style.bottom="auto",document.getElementById("my-popup").style.display="inline-block"):(document.getElementById("my-popup").style.top=current_element_position_top_left[1]-b-10+"px",document.getElementById("my-popup").style.left=current_element_position_top_left[0]+current_element_width/2-c/2+18+"px",document.getElementById("my-popup").style.right="auto",document.getElementById("my-popup").style.bottom="auto",document.getElementById("my-popup").style.display="inline-block")}),element.bind("mouseleave",function(){document.getElementsByClassName("ui popup bottom center transition visible").remove(),null!==document.getElementById("my-popup")&&document.getElementById("my-popup").remove()})}}}),angular.module("angularify.semantic.sidebar",[]).directive("sidebar",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="ui sidebar" ng-transclude></div>',scope:{buttonClass:"="},link:function(a,b,c){b.sidebar("attach events",a.buttonClass)}}}),angular.module("angularify.semantic.rating",[]).directive("rating",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{id:"@",size:"@",type:"@",model:"=ngModel"},template:'<div class={{div_class}}><i id="{{id + 1}}" class="{{icon_class}}" ng-click="click(1)" ng-mouseenter="mouse_enter(1)" ng-mouseleave="mouse_leave(1)"></i><i id="{{id + 2}}" class="{{icon_class}}" ng-click="click(2)" ng-mouseenter="mouse_enter(2)" ng-mouseleave="mouse_leave(2)"></i><i id="{{id + 3}}" class="{{icon_class}}" ng-click="click(3)" ng-mouseenter="mouse_enter(3)" ng-mouseleave="mouse_leave(3)"></i><i id="{{id + 4}}" class="{{icon_class}}" ng-click="click(4)" ng-mouseenter="mouse_enter(4)" ng-mouseleave="mouse_leave(4)"></i><i id="{{id + 5}}" class="{{icon_class}}" ng-click="click(5)" ng-mouseenter="mouse_enter(5)" ng-mouseleave="mouse_leave(5)"></i></div>',link:function(a,b,c){void 0==a.model&&(a.model=0),a.model<1&&a.model>5&&(a.model=0);var d=!1;void 0==a.type&&(a.type="star"),void 0==a.size?a.div_class="ui rating "+a.type:"small"==a.size?a.div_class="ui small "+a.type+" rating":"large"==a.size?a.div_class="ui large "+a.type+" rating":"huge"==a.size&&(a.div_class="ui huge "+a.type+" rating"),a.icon_class="icon",a.mouse_enter=function(b){if(1!=d){var c=1;for(c;b>=c;c++)document.getElementById(a.id+c).className="icon active"}},a.mouse_leave=function(b){if(1!=d){var c=1;for(c;5>=c;c++)document.getElementById(a.id+c).className="icon"}},a.click=function(b,c){var e=1;for(e;b>=e;e++)document.getElementById(a.id+e).className="icon active";0!==b&&(d=!0)},a.$watch("model",function(b){a.click(b)})}}}),angular.module("angularify.semantic.wizard",[]).controller("WizardController",["$scope",function(a){function b(){a.steps.forEach(function(a){a.selected=!1}),a.selectedStep=null}a.steps=[],a.currentStep=null,a.stepsLength="",a.$watch("currentStep",function(b){if(b){var c=a.selectedStep.title;a.selectedStep&&c!==a.currentStep&&a.goTo(a.steps.filter(function(b){return b.title==-a.currentStep})[0])}}),a.$watch("[editMode, steps.length]",function(){var b=a.editMode;void 0!==b&&null!==b&&b&&a.steps.forEach(function(a){a.completed=!0})},!0),this.addStep=function(b){a.steps.push(b),1===a.steps.length&&a.goTo(a.steps[0])},a.goTo=function(c){b(),a.selectedStep=c,void 0!==a.currentStep&&(a.currentStep=c.title),c.selected=!0,a.$emit("wizard:stepChanged",{step:c,index:a.steps.indexOf(c)})},this.next=function(){var b=a.steps.indexOf(a.selectedStep);a.selectedStep.completed=!0,b===a.steps.length-1?this.finish():a.goTo(a.steps[b+1])},this.goTo=function(b){var c;c=angular.isNumber(b)?a.steps[b]:a.steps.filter(function(a){return a.title===a})[0],a.goTo(c)},this.finish=function(){a.onFinish&&(a.selectedStep.completed=!0,a.onFinish())},this.cancel=this.previous=function(){var b=a.steps.indexOf(a.selectedStep);if(0===b)throw new Error("Cant go back. Its already in step 0");a.goTo(a.steps[b-1])},a.getStatus=function(a){var b=[];return a.selected&&b.push("active"),a.selected||a.completed||b.push("disabled"),a.completed&&b.push("completed"),b}}]).directive("wizard",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{fullwidth:"@",currentStep:"=?",onFinish:"&",editMode:"=",name:"@"},controller:"WizardController",template:'<div><div class="ui steps {{stepsLength}} small"><div class="ui step" ng-repeat="step in steps" ng-click="step.completed && goTo(step)" ng-class="getStatus(step)">{{step.title}}</div></div><div class="ui hidden divider"></div><div ng-transclude></div></div>',link:function(a,b,c,d){if("true"===a.fullwidth){var e={0:"",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten"};a.stepsLength=e[a.steps.length]}}}}).directive("wizardPane",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^wizard",controller:"WizardController",scope:{title:"@"},template:'<div class="ui segment" ng-transclude ng-show="selected" ng-style="noMargin"></div>',link:function(a,b,c,d){d.addStep(a)}}}),wizardButtonDirective("wzNext"),wizardButtonDirective("wzPrevious"),wizardButtonDirective("wzFinish"),wizardButtonDirective("wzCancel"),angular.module("angularify.semantic.common",[]).directive("dropdown",["$timeout",function(a){return{restrict:"C",link:function(b,c,d){a(function(){$(".dropdown").dropdown()})}}}]).directive("checkbox",["$timeout",function(a){return{restrict:"C",link:function(b,c,d){a(function(){$(".checkbox").checkbox()})}}}]),angular.module("angularify.semantic.datetimepicker",[]).constant("dateTimePickerConfig",{dropdownSelector:null,minuteStep:5,minView:"minute",startView:"day"}).directive("datetimepicker",["dateTimePickerConfig",function(a){"use strict";var b=function(a){var b=["startView","minView","minuteStep","dropdownSelector"];for(var c in a)if(a.hasOwnProperty(c)&&b.indexOf(c)<0)throw"invalid option: "+c;var d=["minute","hour","day","month","year"];if(d.indexOf(a.startView)<0)throw"invalid startView value: "+a.startView;if(d.indexOf(a.minView)<0)throw"invalid minView value: "+a.minView;if(d.indexOf(a.minView)>d.indexOf(a.startView))throw"startView must be greater than minView";if(!angular.isNumber(a.minuteStep))throw"minuteStep must be numeric";if(a.minuteStep<=0||a.minuteStep>=60)throw"minuteStep must be greater than zero and less than 60";if(null!==a.dropdownSelector&&!angular.isString(a.dropdownSelector))throw"dropdownSelector must be a string"};return{restrict:"E",require:"ngModel",template:"<div class='field'>      <div class='ui action input'>        <input type='text' placeholder='pick a date' data-ng-model='ngModel'>        <div class='ui icon button' data-ng-click='showDateTimePicker()'>          <i class='calendar icon'></i>        </div>      </div><div class='datetimepicker transition hidden'><table class='ui  unstackable celled striped table'>   <thead>       <tr>           <th class='left'               data-ng-click='changeView(data.currentView, data.leftDate, $event)'               ><i class='ui icon arrow left'/></th>           <th class='switch ui center aligned' colspan='5'               data-ng-click='changeView(data.previousView, data.currentDate, $event)'>{{ data.title }}</th>           <th class='floated right aligned'               data-ng-click='changeView(data.currentView, data.rightDate, $event)'             ><i class='ui icon arrow right'/></th>       </tr>       <tr>           <th class='dow' data-ng-repeat='day in data.dayNames' >{{ day }}</th>       </tr>   </thead>   <tbody>       <tr data-ng-class='{ hide: data.currentView == \"day\" }' >           <td colspan='7'  >           <div class='class='ui horizontal list'>              <span  class='ui basic button' style='width:110px;margin-bottom:5px' ng-class='{{ data.currentView }}'                        data-ng-repeat='dateValue in data.dates'                         data-ng-class='{active: dateValue.active, past: dateValue.past, future: dateValue.future}'                        data-ng-click=\"changeView(data.nextView, dateValue.date, $event)\">{{ dateValue.display }}</span> </div>           </td>       </tr>       <tr data-ng-show='data.currentView == \"day\"' data-ng-repeat='week in data.weeks'>           <td data-ng-repeat='dateValue in week.dates'                data-ng-click='changeView(data.nextView, dateValue.date, $event)'               class='day'                data-ng-class='{active: dateValue.active, past: dateValue.past, future: dateValue.future}' >{{ dateValue.display }}</td>       </tr>   </tbody></table></div></div>",scope:{ngModel:"=",onSetTime:"&"},replace:!0,link:function(c,d,e){var f={};e.datetimepickerConfig&&(f=c.$eval(e.datetimepickerConfig));var g={};angular.extend(g,a,f),b(g);var h={year:function(a){for(var b=moment.utc(a).startOf("year"),d=10*parseInt(b.year()/10,10),e=moment.utc(b).year(d-1).startOf("year"),f=c.ngModel?moment(c.ngModel).year():0,h={currentView:"year",nextView:"year"===g.minView?"setTime":"month",title:d+"-"+(d+9),leftDate:moment.utc(e).subtract(9,"year").valueOf(),rightDate:moment.utc(e).add(11,"year").valueOf(),dates:[]},i=0;12>i;i++){var j=moment.utc(e).add(i,"years"),k={date:j.valueOf(),display:j.format("YYYY"),past:j.year()<d,future:j.year()>d+9,active:j.year()===f};h.dates.push(k)}return h},month:function(a){for(var b=moment.utc(a).startOf("year"),d=c.ngModel?moment(c.ngModel).format("YYYY-MMM"):0,e={previousView:"year",currentView:"month",nextView:"month"===g.minView?"setTime":"day",currentDate:b.valueOf(),title:b.format("YYYY"),leftDate:moment.utc(b).subtract(1,"year").valueOf(),rightDate:moment.utc(b).add(1,"year").valueOf(),dates:[]},f=0;12>f;f++){var h=moment.utc(b).add(f,"months"),i={date:h.valueOf(),display:h.format("MMM"),active:h.format("YYYY-MMM")===d};e.dates.push(i)}return e},day:function(a){for(var b=moment.utc(a),d=moment.utc(b).startOf("month"),e=moment.utc(b).endOf("month"),f=moment.utc(d).subtract(Math.abs(d.weekday()),"days"),h=c.ngModel?moment(c.ngModel).format("YYYY-MMM-DD"):"",i={previousView:"month",currentView:"day",nextView:"day"===g.minView?"setTime":"hour",currentDate:b.valueOf(),title:b.format("YYYY-MMM"),leftDate:moment.utc(d).subtract(1,"months").valueOf(),rightDate:moment.utc(d).add(1,"months").valueOf(),dayNames:[],weeks:[]},j=0;7>j;j++)i.dayNames.push(moment.utc().weekday(j).format("dd"));for(var k=0;6>k;k++){for(var l={dates:[]},m=0;7>m;m++){var n=moment.utc(f).add(7*k+m,"days"),o={date:n.valueOf(),display:n.format("D"),active:n.format("YYYY-MMM-DD")===h,past:n.isBefore(d),future:n.isAfter(e)};l.dates.push(o)}i.weeks.push(l)}return i},hour:function(a){for(var b=moment.utc(a).hour(0).minute(0).second(0),d=c.ngModel?moment(c.ngModel).format("YYYY-MM-DD H"):"",e={previousView:"day",currentView:"hour",nextView:"hour"===g.minView?"setTime":"minute",currentDate:b.valueOf(),title:b.format("ll"),leftDate:moment.utc(b).subtract(1,"days").valueOf(),rightDate:moment.utc(b).add(1,"days").valueOf(),dates:[]},f=0;24>f;f++){var h=moment.utc(b).add(f,"hours"),i={date:h.valueOf(),display:h.format("LT"),active:h.format("YYYY-MM-DD H")===d};e.dates.push(i)}return e},minute:function(a){for(var b=moment.utc(a).minute(0).second(0),d=c.ngModel?moment(c.ngModel).format("YYYY-MM-DD H:mm"):"",e={previousView:"hour",currentView:"minute",nextView:"setTime",currentDate:b.valueOf(),title:b.format("lll"),leftDate:moment.utc(b).subtract(1,"hours").valueOf(),rightDate:moment.utc(b).add(1,"hours").valueOf(),dates:[]},f=60/g.minuteStep,h=0;f>h;h++){var i=moment.utc(b).add(h*g.minuteStep,"minute"),j={date:i.valueOf(),display:i.format("LT"),active:i.format("YYYY-MM-DD H:mm")===d};e.dates.push(j)}return e},setTime:function(a){var b=new Date(a),d=new Date(b.getTime()+6e4*b.getTimezoneOffset());return c.ngModel=d,g.dropdownSelector&&jQuery(g.dropdownSelector).dropdown("toggle"),c.showDateTimePicker(),c.onSetTime({newDate:d,oldDate:c.ngModel}),h[g.startView](a)}},i=function(){var a=c.ngModel?moment(c.ngModel).toDate():new Date;return a.getTime()-6e4*a.getTimezoneOffset()};c.showDateTimePicker=function(){$(".datetimepicker").transition("swing down")},c.changeView=function(a,b,d){d&&(d.stopPropagation(),d.preventDefault()),a&&b>-(1/0)&&h[a]&&(c.data=h[a](b))},c.changeView(g.startView,i()),c.$watch("ngModel",function(){c.changeView(c.data.currentView,i())})}}}]);